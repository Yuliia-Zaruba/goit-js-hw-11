{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// Ключ API и базовый URL\nconst API_KEY = '48848283-2fdf95bc8df92e3ac2f3192c4';\n// const API_KEY = import.meta.env.VITE_PIXABAY_API_KEY;\nconst BASE_URL = 'https://pixabay.com/api/';\n// Функция для выполнения запроса к API\nexport async function fetchImages(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n    return response.data.hits; // Возвращаем массив изображений\n  } catch (error) {\n    console.error('Ошибка при запросе к Pixabay API:', error);\n    throw new Error(); // (\"Не удалось загрузить изображения\"); // Бросаем ошибку\n  }\n}\n","// render-functions.js\nexport function renderGallery(images, container) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n                <p><b>Likes:</b> ${likes}</p>\n                <p><b>Views:</b> ${views}</p>\n                <p><b>Comments:</b> ${comments}</p>\n                <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n        </a>\n    `\n    )\n    .join(''); // Создаём HTML-строку из массива изображений\n\n  container.innerHTML = markup; // Вставляем в контейнер галереи\n}\n","// Импортируем необходимые модули и библиотеки\nimport { fetchImages } from './js/pixabay-api.js'; // Функция для запроса к API\nimport { renderGallery } from './js/render-functions.js'; // Функция отрисовки галереи\nimport iziToast from 'izitoast'; // Библиотека для уведомлений\nimport 'izitoast/dist/css/iziToast.min.css'; // Стили для iziToast\nimport SimpleLightbox from 'simplelightbox'; // Библиотека для модального просмотра изображений\nimport 'simplelightbox/dist/simple-lightbox.min.css'; // Стили для SimpleLightbox\n\n// Получаем элементы из DOM\nconst form = document.querySelector('#search-form'); // Форма поиска\nconst gallery = document.querySelector('#gallery'); // Галерея изображений\nconst loader = document.querySelector('#loader'); // Индикатор загрузки\nlet lightbox; // Переменная для SimpleLightbox\n\n// Добавляем обработчик события на форму\nform.addEventListener('submit', async event => {\n  event.preventDefault(); // Отменяем стандартное поведение формы\n  const query = event.target.elements.searchQuery.value.trim(); // Получаем введенный текст\n\n  // Проверяем, введено ли значение\n  if (!query) {\n    iziToast.warning({ message: 'Please enter a search term' }); // Показываем предупреждение\n    return;\n  }\n\n  gallery.innerHTML = ''; // Очищаем галерею перед новым запросом\n  loader.style.display = 'block'; // Показываем индикатор загрузки\n\n  try {\n    const images = await fetchImages(query); // Выполняем запрос к API\n\n    // Проверяем, есть ли изображения в ответе\n    if (images.length === 0) {\n      iziToast.error({ message: 'Sorry, no images found!' }); // Показываем ошибку\n      return;\n    } else {\n      renderGallery(images, gallery); // Отрисовываем галерею\n      lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh(); // Обновляем SimpleLightbox\n    }\n  } catch (error) {\n    iziToast.error({ message: 'Something went wrong!' }); // Показываем сообщение об ошибке\n  } finally {\n    loader.style.display = 'none'; // Скрываем индикатор загрузки\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","error","renderGallery","images","container","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","lightbox","event","iziToast","SimpleLightbox"],"mappings":"+vBAEA,MAAMA,EAAU,qCAEVC,EAAW,2BAEjB,eAAsBC,EAAYC,EAAO,CACnC,GAAA,CAUF,OATiB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAAA,CACd,CACD,GACe,KAAK,WACdE,EAAO,CACN,cAAA,MAAM,oCAAqCA,CAAK,EAClD,IAAI,KAAM,CAEpB,CCrBO,SAASC,EAAcC,EAAQC,EAAW,CAC/C,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,mBACOL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,mCAEfC,CAAK;AAAA,mCACLC,CAAK;AAAA,sCACFC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA;AAAA,KAIhD,EACK,KAAK,EAAE,EAEVR,EAAU,UAAYC,CACxB,CClBA,MAAMQ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAGJH,EAAK,iBAAiB,SAAU,MAAMI,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMlB,EAAQkB,EAAM,OAAO,SAAS,YAAY,MAAM,OAGtD,GAAI,CAAClB,EAAO,CACVmB,EAAS,QAAQ,CAAE,QAAS,4BAA8B,CAAA,EAC1D,MACJ,CAEEJ,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMZ,EAAS,MAAML,EAAYC,CAAK,EAGtC,GAAII,EAAO,SAAW,EAAG,CACvBe,EAAS,MAAM,CAAE,QAAS,yBAA2B,CAAA,EACrD,MACN,MACMhB,EAAcC,EAAQW,CAAO,EAC7BE,EAAW,IAAIG,EAAe,YAAY,EAC1CH,EAAS,QAAO,CAEnB,MAAe,CACdE,EAAS,MAAM,CAAE,QAAS,uBAAyB,CAAA,CACvD,QAAY,CACRH,EAAO,MAAM,QAAU,MAC3B,CACA,CAAC"}